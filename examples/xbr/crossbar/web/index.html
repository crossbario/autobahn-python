<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
    <head>
        <style>
            body {
                font-family: sans-serif;
            }
            h2 {
                margin-top: 2em;
                color: #038;
            }
            h3 {
                margin-top: 1.3em;
                color: #06c;
            }
            .address {
                font-family: 'Courier New', Courier, monospace;
                font-size: 13px;
                color: #008800;
            }

            td {
                padding: 0.6em;
            }
        </style>
    </head>
    <body>
        <script>
            XBR_DEBUG_TOKEN_ADDR = '0xcfeb869f69431e42cdb54a4f4f105c19c080a601';
            XBR_DEBUG_NETWORK_ADDR = '0x254dffcd3277c0b1660f6d42efbb754edababc2b';
        </script>
        <script src="/web3.min.js"></script>
        <script src="https://s3.eu-central-1.amazonaws.com/xbr.foundation/lib/js/xbr.min.js"></script>
        <!--
        -->
        <!--
            <script src="/xbr.js"></script>
            <script src="https://xbr.network/lib/js/xbr.min.js"></script>
        -->
        <script src="/main.js"></script>

        <h1>XBR Network</h1>
        <p>Interacting with the XBR network from JavaScript and browser applications</p>
        <table>
            <tr>
                <td>XBRToken:</td><td class="address" id="xbr_token_address"></td>
            </tr>
            <tr>
                <td>XBRNetwork:</td><td class="address" id="xbr_network_address"></td>
            </tr>
            <tr>
                <td>This account:</td><td class="address" id="account"></td>
            </tr>
        </table>

        <h2>Network Membership</h2>

        <h3>Register</h3>
        <p>
            Register an address as a member in the XBR Network:
            <table>
                <tr>
                    <td>New member address</td>
                    <td><input class="address" type="text" id="new_member_address" name="new_member_address" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000" disabled="disabled"></td>
                </tr>
                <tr>
                    <td>EULA (required)</td>
                    <td><input type="text" id="new_member_eula" name="new_member_eula" size="66" maxlength="66" value="QmU7Gizbre17x6V2VR1Q2GJEjz6m8S1bXmBtVxS2vmvb81"></td>
                </tr>
                <tr>
                    <td>Member profile (optional)</td>
                    <td><input type="text" id="new_member_profile" name="new_member_profile" size="66" maxlength="66" value=""></td>
                </tr>
            </table>
            <button onclick="test_register();">Register</button>
        </p>

        <h3>Get Member</h3>
        <p>
            Check if address is registered in the XBR Network and return registration information:
            <table>
                <tr>
                    <td>Member address</td>
                    <td><input class="address" type="text" id="get_member_address" name="get_member_address" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000" disabled="disabled"></td>
                </tr>
            </table>
            <button onclick="test_get_member();">Get Member</button>
        </p>

        <h2>Markets</h2>

        <h3>Create Market</h3>
        <p>
            Create a new XBR Market.
            <table>
                <tr>
                    <td>Market name</td>
                    <td><input type="text" id="new_market_name" name="new_market_name" size="12" maxlength="12" value="Market1"></td>
                </tr>
                <tr>
                    <td>Market terms</td>
                    <td><input type="text" id="new_market_terms" name="new_market_terms" size="66" maxlength="66" value=""></td>
                </tr>
                <tr>
                    <td>Market meta</td>
                    <td><input type="text" id="new_market_meta" name="new_market_meta" size="66" maxlength="66" value=""></td>
                </tr>
                <tr>
                    <td>Market maker address</td>
                    <td><input class="address" type="text" id="new_market_maker_address" name="new_market_maker_address" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000"></td>
                </tr>
                <tr>
                    <td>Provider security (XBR)</td>
                    <td><input type="number" id="new_market_provider_security" name="new_market_provider_security" size="12" maxlength="12" value="100"></td>
                </tr>
                <tr>
                    <td>Consumer security (XBR)</td>
                    <td><input type="number" id="new_market_consumer_security" name="new_market_consumer_security" size="12" maxlength="12" value="100"></td>
                </tr>
                <tr>
                    <td>Market Fee (%)</td>
                    <td><input type="number" id="new_market_fee" name="new_market_fee" size="8" maxlength="8" value="5"></td>
                </tr>
            </table>
            <button onclick="test_create_market();">Open Market</button>
        </p>

        <h3>Get Market</h3>
        <p>
            Get info on existing market.
            <table>
                <tr>
                    <td>Market owner</td>
                    <td><input class="address" type="text" id="get_market_owner" name="get_market_owner" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000"></td>
                </tr>
                <tr>
                    <td>Market name</td>
                    <td><input type="text" id="get_market_name" name="get_market_name" size="12" maxlength="12" value="Market1"></td>
                </tr>
            </table>
            <button onclick="test_get_market();">Get Market</button>
        </p>

        <h3>Join Market</h3>
        <p>
            Join a market.
            <table>
                <tr>
                    <td>Market owner</td>
                    <td><input class="address" type="text" id="join_market_owner" name="join_market_owner" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000"></td>
                </tr>
                <tr>
                    <td>Market name</td>
                    <td><input type="text" id="join_market_name" name="join_market_name" size="12" maxlength="12" value="Market1"></td>
                </tr>
                <tr>
                    <td>Actor Type</td>
                    <td>
                        <input type="radio" id="join_market_actor_type_provider" name="join_market_actor_type" checked>XBR Data Provider
                        <input type="radio" id="join_market_actor_type_consumer" name="join_market_actor_type">XBR Data Consumer
                    </td>
                </tr>
            </table>
            <button onclick="test_join_market();">Join Market</button>
        </p>

        <h3>Get Market Actor Type</h3>
        <p>
            Get info on actor within market.
            <table>
                <tr>
                    <td>Actor address</td>
                    <td><input class="address" type="text" id="get_market_actor_address" name="get_market_actor_address" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000" disabled="disabled"></td>
                </tr>
                <tr>
                    <td>Market owner</td>
                    <td><input class="address" type="text" id="get_market_actor_market_owner" name="get_market_actor_market_owner" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000"></td>
                </tr>
                <tr>
                    <td>Market name</td>
                    <td><input type="text" id="get_market_actor_market_name" name="get_market_actor_market_name" size="12" maxlength="12" value="Market1"></td>
                </tr>
            </table>
            <button onclick="test_get_market_actor_type();">Get Market Actor</button>
        </p>

        <h2>Payment Channels</h2>

        <h3>Open Payment Channel</h3>
        <div>
            <p>
            Open a new XBR payment channel that can be used by the offchain senders'
            delegate to pay for microtransactions (buying data keys).
            There are 3 parties involved: the sender (opening the channel), the recipient (which will be
            the market maker in the market), and the consumer (offchain delegate).
            The channel can also be closed (at any time) by both the sender (opening the channel) and
            the recipient - but not the offchain delegate.
            </p>
            <table>
                <tr>
                    <td>Market owner</td>
                    <td><input class="address" type="text" id="open_channel_market_owner" name="open_channel_market_owner" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000"></td>
                </tr>
                <tr>
                    <td>Market name</td>
                    <td><input type="text" id="open_channel_market_name" name="open_channel_market_name" size="12" maxlength="12" value="Market1"></td>
                </tr>
                <tr>
                    <td>Consumer delegate address</td>
                    <td><input class="address" type="text" id="open_channel_consumer_address" name="open_channel_consumer_address" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000"></td>
                </tr>
                <tr>
                    <td>Amount (XBR)</td>
                    <td><input type="number" id="open_channel_amount" name="open_channel_amount" size="12" maxlength="12" value="0"></td>
                </tr>
            </table>
            <button onclick="test_open_payment_channel();">Open Payment Channel</button>
        </div>

        <h3>Get Payment Channel</h3>
        <p>
            Get info on payment channel within market.
            <table>
                <tr>
                    <td>Payment channel address</td>
                    <td><input class="address" type="text" id="get_channel_channel_address" name="get_channel_channel_address" size="42" maxlength="42" value="0x0000000000000000000000000000000000000000"></td>
                </tr>
            </table>
            <button onclick="test_get_payment_channel();">Get payment channel</button>
        </p>

    </body>
</html>
<div>
